{"ast":null,"code":"import { useState, useEffect } from 'react';\nexport default (axios => {\n  const {\n    request,\n    response\n  } = axios.interceptors;\n  const [error, setError] = useState(null);\n  const reqInterceptor = axios.interceptors.request.use(req => {\n    setError(null);\n    return req;\n  });\n  const resInterceptor = axios.interceptors.response.use(res => res, err => {\n    setError({\n      message: err.response.data.error\n    });\n  });\n  useEffect(() => {\n    return () => {\n      request.eject(reqInterceptor);\n    };\n  }, [request, reqInterceptor]);\n  useEffect(() => {\n    return () => {\n      response.eject(resInterceptor);\n    };\n  }, [response, resInterceptor]);\n\n  const closeErrorHandler = () => {\n    setError(null);\n  };\n\n  console.log(error);\n  return [error, closeErrorHandler];\n});","map":{"version":3,"sources":["/home/thiago/Documentos/react/burger-builder/Hooks/src/hooks/httpErrorHandler.js"],"names":["useState","useEffect","axios","request","response","interceptors","error","setError","reqInterceptor","use","req","resInterceptor","res","err","message","data","eject","closeErrorHandler","console","log"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,gBAAgBC,KAAD,IAAW;AACtB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAwBF,KAAK,CAACG,YAApC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,IAAD,CAAlC;AAEA,QAAMQ,cAAc,GAAGN,KAAK,CAACG,YAAN,CAAmBF,OAAnB,CAA2BM,GAA3B,CAAgCC,GAAD,IAAS;AAC3DH,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,WAAOG,GAAP;AACH,GAHsB,CAAvB;AAKA,QAAMC,cAAc,GAAGT,KAAK,CAACG,YAAN,CAAmBD,QAAnB,CAA4BK,GAA5B,CAClBG,GAAD,IAASA,GADU,EAElBC,GAAD,IAAS;AACLN,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,OAAO,EAAED,GAAG,CAACT,QAAJ,CAAaW,IAAb,CAAkBT;AAA7B,KAAD,CAAR;AACH,GAJkB,CAAvB;AAOAL,EAAAA,SAAS,CAAC,MAAM;AACZ,WAAO,MAAM;AACTE,MAAAA,OAAO,CAACa,KAAR,CAAcR,cAAd;AACH,KAFD;AAGH,GAJQ,EAIN,CAACL,OAAD,EAAUK,cAAV,CAJM,CAAT;AAMAP,EAAAA,SAAS,CAAC,MAAM;AACZ,WAAO,MAAM;AACTG,MAAAA,QAAQ,CAACY,KAAT,CAAeL,cAAf;AACH,KAFD;AAGH,GAJQ,EAIN,CAACP,QAAD,EAAWO,cAAX,CAJM,CAAT;;AAMA,QAAMM,iBAAiB,GAAG,MAAM;AAC5BV,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,GAFD;;AAIAW,EAAAA,OAAO,CAACC,GAAR,CAAYb,KAAZ;AACA,SAAO,CAACA,KAAD,EAAQW,iBAAR,CAAP;AACH,CAlCD","sourcesContent":["import { useState, useEffect } from 'react'\n\nexport default (axios) => {\n    const { request, response } = axios.interceptors\n    const [error, setError] = useState(null)\n\n    const reqInterceptor = axios.interceptors.request.use((req) => {\n        setError(null)\n        return req\n    })\n\n    const resInterceptor = axios.interceptors.response.use(\n        (res) => res,\n        (err) => {\n            setError({ message: err.response.data.error })\n        }\n    )\n\n    useEffect(() => {\n        return () => {\n            request.eject(reqInterceptor)\n        }\n    }, [request, reqInterceptor])\n\n    useEffect(() => {\n        return () => {\n            response.eject(resInterceptor)\n        }\n    }, [response, resInterceptor])\n\n    const closeErrorHandler = () => {\n        setError(null)\n    }\n\n    console.log(error)\n    return [error, closeErrorHandler]\n}\n"]},"metadata":{},"sourceType":"module"}